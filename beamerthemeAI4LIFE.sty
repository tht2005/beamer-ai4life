% Copied by 2025 by Nguyen Dinh Dang Duong
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.

\mode<presentation>

% \RequirePackage{xcolor}
\RequirePackage{tikz}
\RequirePackage{xkeyval}
% \RequirePackage{graphicx}

\ProcessOptionsBeamer

\xdefinecolor{ai4life}{RGB}{50, 130, 160}
\DeclareOptionX{watermark}{
	\setbeamertemplate{background}{
		\includegraphics[width=1\paperwidth,height=\paperheight]{res-ai4life/watermark1.pdf}
		% \includegraphics{res-ai4life/watermark1.pdf}
	}
}

\DeclareOptionX{titleimage}{\def\@titleimage{#1}}
\DeclareOptionX{logoimage}{\def\@logoimage{#1}}

\ProcessOptionsX\relax

\defbeamertemplate*{title page}{ai4life}[1][]{
	\ifdefined\@titleimage
	\else
		\def\@titleimage{res-ai4life/banner_2020_kit.jpg}
	\fi
	\ifdefined\@logoimage
	\else
		\def\@logoimage{res-ai4life/AI4LIFE_logo.png}
	\fi

	\vspace{10pt}

	\includegraphics[height=.08\paperheight]{\@logoimage}

	\vspace{10pt}

	{\usebeamerfont{title}\color{black}\fontsize{16pt}{18pt}\bfseries\inserttitle\par}

	\vspace{10pt}

	{\usebeamerfont{subtitle}\color{black}\bfseries\insertsubtitle\par}

	{\usebeamerfont{author}\color{black}\normalsize\insertauthor} |
	{\usebeamerfont{date}\color{black}\normalsize\insertdate\par}

	\vbox to 0.5\paperheight{}
    \vspace{0pt} % optional spacing

	\begin{tikzpicture}[remember picture,overlay]
		\node[anchor=south]
			at (current page.south) 
			{\includegraphics[width=0.98\paperwidth,height=0.5\paperheight]{\@titleimage}};
	\end{tikzpicture}
}

\makeatletter 
\newcommand{\frameofframes}{/}
\newcommand{\setframeofframes}[1]{\renewcommand{\frameofframes}{#1}}
% author | data | title | number
\defbeamertemplate*{footline}{ai4life_beamer}{%
	\begin{beamercolorbox}[wd=\paperwidth,ht=2pt,dp=0pt]{palette tertiary}
		\rule{\dimexpr\paperwidth*\insertframenumber/\inserttotalframenumber\relax}{2pt}%
	\end{beamercolorbox}%

	\leavevmode%
	\hbox{%
		\begin{beamercolorbox}[wd=.25\paperwidth,ht=2.5ex,dp=1.125ex,center]{title in head/foot}%
			\usebeamerfont{author in head/foot}\insertshortauthor
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=.25\paperwidth,ht=2.5ex,dp=1.125ex,center]{title in head/foot}%
			\usebeamerfont{author in head/foot}\insertshortdate
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=.435\paperwidth,ht=2.5ex,dp=1.125ex,center]{author in head/foot}%
			\usebeamerfont{title in head/foot}\insertshorttitle
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=0.065\paperwidth,ht=2.5ex,dp=1.125ex,right]{author in head/foot}%
			\insertframenumber{} / \inserttotalframenumber\hspace*{1ex}
	\end{beamercolorbox}}%
	\vskip0pt%
}
\makeatother

\useinnertheme{circles}
\usefonttheme{professionalfonts}

%\useoutertheme{default}
%\useinnertheme[shadow=true]{rounded}

\setbeamercolor{footline}{bg=ai4life}
% \setbeamercolor{frametitle}{bg=ai4life,fg=white}
\setbeamercolor{frametitle}{bg=,fg=ai4life}
\setbeamercolor{title}{bg=ai4life}
%\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{bibliography item}[text]
\setbeamertemplate{caption}[numbered]

\setbeamercolor{palette primary}{use=structure,fg=white,bg=structure.fg}
\setbeamercolor{palette secondary}{use=structure,fg=white,bg=structure.fg!75!black}
\setbeamercolor{palette tertiary}{use=structure,fg=white,bg=structure.fg!50!black}
\setbeamercolor{palette quaternary}{fg=white,bg=structure.fg!50!black}
%\setbeamercolor*{sidebar}{use=structure,bg=structure.fg}
\setbeamercolor{titlelike}{parent=palette primary}

%% try
% setting the color of block, example and alerted
\setbeamercolor{block title}{bg=ai4life, fg=white}
\setbeamercolor{block body}{bg=ai4life!15, fg=black}
\setbeamercolor{block title alerted}{bg=red!70, fg=white}
\setbeamercolor{block body alerted}{bg=red!15, fg=black}
\setbeamercolor{block title example}{bg=teal!40, fg=white}
\setbeamercolor{block body example}{bg=teal!10, fg=black}
\setbeamercolor{fine separation line}{}
\setbeamercolor{item projected}{fg=white}
\setbeamercolor{palette sidebar primary}{use=normal text,fg=normal text.fg}
\setbeamercolor{palette sidebar quaternary}{use=structure,fg=structure.fg}
\setbeamercolor{palette sidebar secondary}{use=structure,fg=structure.fg}
\setbeamercolor{palette sidebar tertiary}{use=normal text,fg=normal text.fg}
%\setbeamercolor{palette sidebar quaternary}{fg=white}
\setbeamercolor{section in sidebar}{fg=brown}
\setbeamercolor{section in sidebar shaded}{fg=grey}

\setbeamercolor{separation line}{}
\setbeamercolor{sidebar}{bg=ai4life}
\setbeamercolor{sidebar}{parent=palette primary}
\setbeamercolor{structure}{fg=ai4life}
\setbeamercolor{subsection in sidebar}{fg=brown}
\setbeamercolor{subsection in sidebar shaded}{fg=grey}
\AtBeginSection[]{
	\begin{frame}
		\tableofcontents[sectionstyle=show/shaded,subsectionstyle=hide,subsubsectionstyle=hide]
	\end{frame}
}
%\AtBeginSubsection[]{
%	\begin{frame}
%		\tableofcontents[sectionstyle=show/shaded,subsectionstyle=show/shaded/hide,subsubsectionstyle=show/shaded/hide]
%	\end{frame}
%}
\mode
<all>

